<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO chat</title>
    <style>
      body { 
        margin: 0; 
        padding-bottom: 3rem; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
    }

      #form { 
        background: rgba(0, 0, 0, 0.15); 
        padding: 0.25rem; 
        position: fixed; 
        bottom: 0; 
        left: 0; 
        right: 0; 
        display: flex; 
        height: 3rem; 
        box-sizing: border-box; 
        backdrop-filter: blur(10px); 
    }
      #input { 
        border: none; 
        padding: 0 1rem; 
        flex-grow: 1; 
        border-radius: 2rem; 
        margin: 0.25rem; 
    }
      #input:focus { 
        outline: none; 
    }
      #form > button { 
        background: #333; 
        border: none; 
        padding: 0 1rem; 
        margin: 0.25rem; 
        border-radius: 3px; 
        outline: none; 
        color: #fff; }

      #messages { 
        list-style-type: none; 
        margin: 0; 
        padding: 0; 
    }
      #messages > li { 
        padding: 0.5rem 1rem; 
    }
      #messages > li:nth-child(odd) { 
        background: #efefef; 
    }
    </style>
  </head>
  <body>
    <ul id="messages"></ul>
    <form id="form" action="">
      <input id="input" autocomplete="off" />
      <button>Send</button>
    </form>
  </body>
  <footer>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io()
        var form = document.getElementById('form');
        var input = document.getElementById('input');

        form.addEventListener('submit', function(e) {
            e.preventDefault();
/*e.preventDefault() is a method that can be called on an event object to prevent the default behavior associated 
with the event from being triggered. In the context of a form submission, calling e.preventDefault() on the submit 
event will prevent the form from being submitted in the default manner, which is typically to send an HTTP request 
to the server and load a new page.

By preventing the default behavior, developers can instead handle form submissions using their own custom logic, 
such as sending the form data to the server using an asynchronous request and updating the page dynamically without 
reloading it. */
            if (input.value) {
                socket.emit('chat message', input.value);
/* In the code snippet you provided, socket.emit('chat message', input.value) is used to send a message over a 
Socket.IO connection. The first argument, 'chat message', specifies the name of the event being emitted, while the 
second argument, input.value, specifies the data being sent with the event.

In this case, it appears that the value of the input element is being sent as the data for the 'chat message' 
event. This could be used, for example, in a chat application where the user enters a message into an input field 
and then submits the form to send the message to the server. The server can then listen for the 'chat message' 
event and broadcast the message to other connected clients. */
                input.value = '';
            }
        });

        socket.on('chat message', function(msg) {
            var item = document.createElement('li');
            item.textContent = msg;
            messages.appendChild(item);
            window.scrollTo(0, document.body.scrollHeight);
          });
/*Q)Instead of socket.on can't we use io.on here ?
Ans)No, io.on and socket.on serve different purposes and cannot be used interchangeably. io.on is used on the 
server side to listen for incoming connections, while socket.on is used on both the client and server sides to 
listen for events emitted over a specific connection.

In the code snippet you provided, it appears that the code is running on the client side, as it is manipulating 
the DOM using methods such as document.createElement. In this context, socket refers to the Socket.IO connection 
between the client and server, and socket.on('chat message', ...) is used to listen for 'chat message' events 
emitted by the server over that connection.

On the other hand, io is typically used on the server side to represent the Socket.IO server instance. 
io.on('connection', ...) is used to listen for incoming connections from clients. Once a connection is 
established, a socket object is created to represent the connection with the client, and socket.on can be used to 
listen for events emitted by the client over that connection. */
    </script>
  </footer>
</html>